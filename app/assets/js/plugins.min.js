!function(a,b){var c=function(c){return a(c,b)};"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c:c(jQuery)}(function(a,b,c){a.fn.jScrollPane=function(d){function e(d,e){function f(b){var e,h,j,l,m,n,q=!1,r=!1;if(P=b,Q===c)m=d.scrollTop(),n=d.scrollLeft(),d.css({overflow:"hidden",padding:0}),R=d.innerWidth()+tb,S=d.innerHeight(),d.width(R),Q=a('<div class="jspPane" />').css("padding",sb).append(d.children()),T=a('<div class="jspContainer" />').css({width:R+"px",height:S+"px"}).append(Q).appendTo(d);else{if(d.css("width",""),q=P.stickToBottom&&C(),r=P.stickToRight&&D(),l=d.innerWidth()+tb!=R||d.outerHeight()!=S,l&&(R=d.innerWidth()+tb,S=d.innerHeight(),T.css({width:R+"px",height:S+"px"})),!l&&ub==U&&Q.outerHeight()==V)return void d.width(R);ub=U,Q.css("width",""),d.width(R),T.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}Q.css("overflow","auto"),U=b.contentWidth?b.contentWidth:Q[0].scrollWidth,V=Q[0].scrollHeight,Q.css("overflow",""),W=U/R,X=V/S,Y=X>1,Z=W>1,Z||Y?(d.addClass("jspScrollable"),e=P.maintainPosition&&(ab||db),e&&(h=A(),j=B()),g(),i(),k(),e&&(y(r?U-R:h,!1),x(q?V-S:j,!1)),H(),E(),N(),P.enableKeyboardNavigation&&J(),P.clickOnTrack&&o(),L(),P.hijackInternalLinks&&M()):(d.removeClass("jspScrollable"),Q.css({top:0,left:0,width:T.width()-tb}),F(),I(),K(),p()),P.autoReinitialise&&!rb?rb=setInterval(function(){f(P)},P.autoReinitialiseDelay):!P.autoReinitialise&&rb&&clearInterval(rb),m&&d.scrollTop(0)&&x(m,!1),n&&d.scrollLeft(0)&&y(n,!1),d.trigger("jsp-initialised",[Z||Y])}function g(){Y&&(T.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),eb=T.find(">.jspVerticalBar"),fb=eb.find(">.jspTrack"),$=fb.find(">.jspDrag"),P.showArrows&&(jb=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",m(0,-1)).bind("click.jsp",G),kb=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",m(0,1)).bind("click.jsp",G),P.arrowScrollOnHover&&(jb.bind("mouseover.jsp",m(0,-1,jb)),kb.bind("mouseover.jsp",m(0,1,kb))),l(fb,P.verticalArrowPositions,jb,kb)),hb=S,T.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){hb-=a(this).outerHeight()}),$.hover(function(){$.addClass("jspHover")},function(){$.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",G),$.addClass("jspActive");var c=b.pageY-$.position().top;return a("html").bind("mousemove.jsp",function(a){r(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",q),!1}),h())}function h(){fb.height(hb+"px"),ab=0,gb=P.verticalGutter+fb.outerWidth(),Q.width(R-gb-tb);try{0===eb.position().left&&Q.css("margin-left",gb+"px")}catch(a){}}function i(){Z&&(T.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),lb=T.find(">.jspHorizontalBar"),mb=lb.find(">.jspTrack"),bb=mb.find(">.jspDrag"),P.showArrows&&(pb=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",m(-1,0)).bind("click.jsp",G),qb=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",m(1,0)).bind("click.jsp",G),P.arrowScrollOnHover&&(pb.bind("mouseover.jsp",m(-1,0,pb)),qb.bind("mouseover.jsp",m(1,0,qb))),l(mb,P.horizontalArrowPositions,pb,qb)),bb.hover(function(){bb.addClass("jspHover")},function(){bb.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",G),bb.addClass("jspActive");var c=b.pageX-bb.position().left;return a("html").bind("mousemove.jsp",function(a){t(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",q),!1}),nb=T.innerWidth(),j())}function j(){T.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){nb-=a(this).outerWidth()}),mb.width(nb+"px"),db=0}function k(){if(Z&&Y){var b=mb.outerHeight(),c=fb.outerWidth();hb-=b,a(lb).find(">.jspCap:visible,>.jspArrow").each(function(){nb+=a(this).outerWidth()}),nb-=c,S-=c,R-=b,mb.parent().append(a('<div class="jspCorner" />').css("width",b+"px")),h(),j()}Z&&Q.width(T.outerWidth()-tb+"px"),V=Q.outerHeight(),X=V/S,Z&&(ob=Math.ceil(1/W*nb),ob>P.horizontalDragMaxWidth?ob=P.horizontalDragMaxWidth:ob<P.horizontalDragMinWidth&&(ob=P.horizontalDragMinWidth),bb.width(ob+"px"),cb=nb-ob,u(db)),Y&&(ib=Math.ceil(1/X*hb),ib>P.verticalDragMaxHeight?ib=P.verticalDragMaxHeight:ib<P.verticalDragMinHeight&&(ib=P.verticalDragMinHeight),$.height(ib+"px"),_=hb-ib,s(ab))}function l(a,b,c,d){var e,f="before",g="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split"),b==f?g=b:b==g&&(f=b,e=c,c=d,d=e),a[f](c)[g](d)}function m(a,b,c){return function(){return n(a,b,this,c),this.blur(),!1}}function n(b,c,d,e){d=a(d).addClass("jspActive");var f,g,h=!0,i=function(){0!==b&&vb.scrollByX(b*P.arrowButtonSpeed),0!==c&&vb.scrollByY(c*P.arrowButtonSpeed),g=setTimeout(i,h?P.initialDelay:P.arrowRepeatFreq),h=!1};i(),f=e?"mouseout.jsp":"mouseup.jsp",e=e||a("html"),e.bind(f,function(){d.removeClass("jspActive"),g&&clearTimeout(g),g=null,e.unbind(f)})}function o(){p(),Y&&fb.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageY-f.top-ab,h=!0,i=function(){var a=e.offset(),c=b.pageY-a.top-ib/2,f=S*P.scrollPagePercent,k=_*f/(V-S);if(0>g)ab-k>c?vb.scrollByY(-f):r(c);else{if(!(g>0))return void j();c>ab+k?vb.scrollByY(f):r(c)}d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}}),Z&&mb.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageX-f.left-db,h=!0,i=function(){var a=e.offset(),c=b.pageX-a.left-ob/2,f=R*P.scrollPagePercent,k=cb*f/(U-R);if(0>g)db-k>c?vb.scrollByX(-f):t(c);else{if(!(g>0))return void j();c>db+k?vb.scrollByX(f):t(c)}d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}})}function p(){mb&&mb.unbind("mousedown.jsp"),fb&&fb.unbind("mousedown.jsp")}function q(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),$&&$.removeClass("jspActive"),bb&&bb.removeClass("jspActive")}function r(a,b){Y&&(0>a?a=0:a>_&&(a=_),b===c&&(b=P.animateScroll),b?vb.animate($,"top",a,s):($.css("top",a),s(a)))}function s(a){a===c&&(a=$.position().top),T.scrollTop(0),ab=a;var b=0===ab,e=ab==_,f=a/_,g=-f*(V-S);(wb!=b||yb!=e)&&(wb=b,yb=e,d.trigger("jsp-arrow-change",[wb,yb,xb,zb])),v(b,e),Q.css("top",g),d.trigger("jsp-scroll-y",[-g,b,e]).trigger("scroll")}function t(a,b){Z&&(0>a?a=0:a>cb&&(a=cb),b===c&&(b=P.animateScroll),b?vb.animate(bb,"left",a,u):(bb.css("left",a),u(a)))}function u(a){a===c&&(a=bb.position().left),T.scrollTop(0),db=a;var b=0===db,e=db==cb,f=a/cb,g=-f*(U-R);(xb!=b||zb!=e)&&(xb=b,zb=e,d.trigger("jsp-arrow-change",[wb,yb,xb,zb])),w(b,e),Q.css("left",g),d.trigger("jsp-scroll-x",[-g,b,e]).trigger("scroll")}function v(a,b){P.showArrows&&(jb[a?"addClass":"removeClass"]("jspDisabled"),kb[b?"addClass":"removeClass"]("jspDisabled"))}function w(a,b){P.showArrows&&(pb[a?"addClass":"removeClass"]("jspDisabled"),qb[b?"addClass":"removeClass"]("jspDisabled"))}function x(a,b){var c=a/(V-S);r(c*_,b)}function y(a,b){var c=a/(U-R);t(c*cb,b)}function z(b,c,d){var e,f,g,h,i,j,k,l,m,n=0,o=0;try{e=a(b)}catch(p){return}for(f=e.outerHeight(),g=e.outerWidth(),T.scrollTop(0),T.scrollLeft(0);!e.is(".jspPane");)if(n+=e.position().top,o+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;h=B(),j=h+S,h>n||c?l=n-P.horizontalGutter:n+f>j&&(l=n-S+f+P.horizontalGutter),isNaN(l)||x(l,d),i=A(),k=i+R,i>o||c?m=o-P.horizontalGutter:o+g>k&&(m=o-R+g+P.horizontalGutter),isNaN(m)||y(m,d)}function A(){return-Q.position().left}function B(){return-Q.position().top}function C(){var a=V-S;return a>20&&a-B()<10}function D(){var a=U-R;return a>20&&a-A()<10}function E(){T.unbind(Bb).bind(Bb,function(a,b,c,d){var e=db,f=ab,g=a.deltaFactor||P.mouseWheelSpeed;return vb.scrollBy(c*g,-d*g,!1),e==db&&f==ab})}function F(){T.unbind(Bb)}function G(){return!1}function H(){Q.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){z(a.target,!1)})}function I(){Q.find(":input,a").unbind("focus.jsp")}function J(){function b(){var a=db,b=ab;switch(c){case 40:vb.scrollByY(P.keyboardSpeed,!1);break;case 38:vb.scrollByY(-P.keyboardSpeed,!1);break;case 34:case 32:vb.scrollByY(S*P.scrollPagePercent,!1);break;case 33:vb.scrollByY(-S*P.scrollPagePercent,!1);break;case 39:vb.scrollByX(P.keyboardSpeed,!1);break;case 37:vb.scrollByX(-P.keyboardSpeed,!1)}return e=a!=db||b!=ab}var c,e,f=[];Z&&f.push(lb[0]),Y&&f.push(eb[0]),Q.focus(function(){d.focus()}),d.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(d){if(d.target===this||f.length&&a(d.target).closest(f).length){var g=db,h=ab;switch(d.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:c=d.keyCode,b();break;case 35:x(V-S),c=null;break;case 36:x(0),c=null}return e=d.keyCode==c&&g!=db||h!=ab,!e}}).bind("keypress.jsp",function(a){return a.keyCode==c&&b(),!e}),P.hideFocus?(d.css("outline","none"),"hideFocus"in T[0]&&d.attr("hideFocus",!0)):(d.css("outline",""),"hideFocus"in T[0]&&d.attr("hideFocus",!1))}function K(){d.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function L(){if(location.hash&&location.hash.length>1){var b,c,d=escape(location.hash.substr(1));try{b=a("#"+d+', a[name="'+d+'"]')}catch(e){return}b.length&&Q.find(d)&&(0===T.scrollTop()?c=setInterval(function(){T.scrollTop()>0&&(z(b,!0),a(document).scrollTop(T.position().top),clearInterval(c))},50):(z(b,!0),a(document).scrollTop(T.position().top)))}}function M(){a(document.body).data("jspHijack")||(a(document.body).data("jspHijack",!0),a(document.body).delegate("a[href*=#]","click",function(c){var d,e,f,g,h,i,j=this.href.substr(0,this.href.indexOf("#")),k=location.href;if(-1!==location.href.indexOf("#")&&(k=location.href.substr(0,location.href.indexOf("#"))),j===k){d=escape(this.href.substr(this.href.indexOf("#")+1));try{e=a("#"+d+', a[name="'+d+'"]')}catch(l){return}e.length&&(f=e.closest(".jspScrollable"),g=f.data("jsp"),g.scrollToElement(e,!0),f[0].scrollIntoView&&(h=a(b).scrollTop(),i=e.offset().top,(h>i||i>h+a(b).height())&&f[0].scrollIntoView()),c.preventDefault())}}))}function N(){var a,b,c,d,e,f=!1;T.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(g){var h=g.originalEvent.touches[0];a=A(),b=B(),c=h.pageX,d=h.pageY,e=!1,f=!0}).bind("touchmove.jsp",function(g){if(f){var h=g.originalEvent.touches[0],i=db,j=ab;return vb.scrollTo(a+c-h.pageX,b+d-h.pageY),e=e||Math.abs(c-h.pageX)>5||Math.abs(d-h.pageY)>5,i==db&&j==ab}}).bind("touchend.jsp",function(){f=!1}).bind("click.jsp-touchclick",function(){return e?(e=!1,!1):void 0})}function O(){var a=B(),b=A();d.removeClass("jspScrollable").unbind(".jsp"),d.replaceWith(Ab.append(Q.children())),Ab.scrollTop(a),Ab.scrollLeft(b),rb&&clearInterval(rb)}var P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb=this,wb=!0,xb=!0,yb=!1,zb=!1,Ab=d.clone(!1,!1).empty(),Bb=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===d.css("box-sizing")?(sb=0,tb=0):(sb=d.css("paddingTop")+" "+d.css("paddingRight")+" "+d.css("paddingBottom")+" "+d.css("paddingLeft"),tb=(parseInt(d.css("paddingLeft"),10)||0)+(parseInt(d.css("paddingRight"),10)||0)),a.extend(vb,{reinitialise:function(b){b=a.extend({},P,b),f(b)},scrollToElement:function(a,b,c){z(a,b,c)},scrollTo:function(a,b,c){y(a,c),x(b,c)},scrollToX:function(a,b){y(a,b)},scrollToY:function(a,b){x(a,b)},scrollToPercentX:function(a,b){y(a*(U-R),b)},scrollToPercentY:function(a,b){x(a*(V-S),b)},scrollBy:function(a,b,c){vb.scrollByX(a,c),vb.scrollByY(b,c)},scrollByX:function(a,b){var c=A()+Math[0>a?"floor":"ceil"](a),d=c/(U-R);t(d*cb,b)},scrollByY:function(a,b){var c=B()+Math[0>a?"floor":"ceil"](a),d=c/(V-S);r(d*_,b)},positionDragX:function(a,b){t(a,b)},positionDragY:function(a,b){r(a,b)},animate:function(a,b,c,d){var e={};e[b]=c,a.animate(e,{duration:P.animateDuration,easing:P.animateEase,queue:!1,step:d})},getContentPositionX:function(){return A()},getContentPositionY:function(){return B()},getContentWidth:function(){return U},getContentHeight:function(){return V},getPercentScrolledX:function(){return A()/(U-R)},getPercentScrolledY:function(){return B()/(V-S)},getIsScrollableH:function(){return Z},getIsScrollableV:function(){return Y},getContentPane:function(){return Q},scrollToBottom:function(a){r(_,a)},hijackInternalLinks:a.noop,destroy:function(){O()}}),f(e)}return d=a.extend({},a.fn.jScrollPane.defaults,d),a.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){d[this]=d[this]||d.speed}),this.each(function(){var b=a(this),c=b.data("jsp");c?c.reinitialise(d):(a("script",b).filter('[type="text/javascript"],:not([type])').remove(),c=new e(b,d),b.data("jsp",c))})},a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}},this),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,k=0,l=0,m=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(l=-1*g.detail),"wheelDelta"in g&&(l=g.wheelDelta),"wheelDeltaY"in g&&(l=g.wheelDeltaY),"wheelDeltaX"in g&&(k=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(k=-1*l,l=0),j=0===l?k:l,"deltaY"in g&&(l=-1*g.deltaY,j=l),"deltaX"in g&&(k=g.deltaX,0===l&&(j=-1*k)),0!==l||0!==k){if(1===g.deltaMode){var n=a.data(this,"mousewheel-line-height");j*=n,l*=n,k*=n}else if(2===g.deltaMode){var o=a.data(this,"mousewheel-page-height");j*=o,l*=o,k*=o}return m=Math.max(Math.abs(l),Math.abs(k)),(!f||f>m)&&(f=m,d(g,m)&&(f/=40)),d(g,m)&&(j/=40,k/=40,l/=40),j=Math[j>=1?"floor":"ceil"](j/f),k=Math[k>=1?"floor":"ceil"](k/f),l=Math[l>=1?"floor":"ceil"](l/f),b.deltaX=k,b.deltaY=l,b.deltaFactor=f,b.deltaMode=0,h.unshift(b,j,k,l),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=h.length;a;)this.removeEventListener(h[--a],b,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a){function b(){this===e.elem&&(e.pos=[-260,-260],e.elem=!1,f=3)}var c,d,e={pos:[-260,-260]},f=3,g=document,h=g.documentElement,i=g.body;a.event.special.mwheelIntent={setup:function(){var c=a(this).bind("mousewheel",a.event.special.mwheelIntent.handler);return this!==g&&this!==h&&this!==i&&c.bind("mouseleave",b),c=null,!0},teardown:function(){return a(this).unbind("mousewheel",a.event.special.mwheelIntent.handler).unbind("mouseleave",b),!0},handler:function(b){var g=[b.clientX,b.clientY];return this===e.elem||Math.abs(e.pos[0]-g[0])>f||Math.abs(e.pos[1]-g[1])>f?(e.elem=this,e.pos=g,f=250,clearTimeout(d),d=setTimeout(function(){f=10},200),clearTimeout(c),c=setTimeout(function(){f=3},1500),b=a.extend({},b,{type:"mwheelIntent"}),(a.event.dispatch||a.event.handle).apply(this,arguments)):void 0}},a.fn.extend({mwheelIntent:function(a){return a?this.bind("mwheelIntent",a):this.trigger("mwheelIntent")},unmwheelIntent:function(a){return this.unbind("mwheelIntent",a)}}),a(function(){i=g.body,a(g).bind("mwheelIntent.mwheelIntentDefault",a.noop)})}(jQuery),function(a){var b=this.SelectBox=function(a,b){if(a instanceof jQuery){if(!(a.length>0))return;a=a[0]}return this.typeTimer=null,this.typeSearch="",this.isMac=navigator.platform.match(/mac/i),b="object"==typeof b?b:{},this.selectElement=a,!b.mobile&&navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i)?!1:"select"!==a.tagName.toLowerCase()?!1:void this.init(b)};b.prototype.version="1.2.0",b.prototype.init=function(b){var c=a(this.selectElement);if(c.data("selectBox-control"))return!1;var d=a('<a class="selectBox" />'),e=c.attr("multiple")||parseInt(c.attr("size"))>1,f=b||{},g=parseInt(c.prop("tabindex"))||0,h=this;if(d.width(c.outerWidth()).addClass(c.attr("class")).attr("title",c.attr("title")||"").attr("tabindex",g).css("display","inline-block").bind("focus.selectBox",function(){this!==document.activeElement&&document.body!==document.activeElement&&a(document.activeElement).blur(),d.hasClass("selectBox-active")||(d.addClass("selectBox-active"),c.trigger("focus"))}).bind("blur.selectBox",function(){d.hasClass("selectBox-active")&&(d.removeClass("selectBox-active"),c.trigger("blur"))}),a(window).data("selectBox-bindings")||a(window).data("selectBox-bindings",!0).bind("scroll.selectBox",f.hideOnWindowScroll?this.hideMenus:a.noop).bind("resize.selectBox",this.hideMenus),c.attr("disabled")&&d.addClass("selectBox-disabled"),c.bind("click.selectBox",function(a){d.focus(),a.preventDefault()}),e){if(b=this.getOptions("inline"),d.append(b).data("selectBox-options",b).addClass("selectBox-inline selectBox-menuShowing").bind("keydown.selectBox",function(a){h.handleKeyDown(a)}).bind("keypress.selectBox",function(a){h.handleKeyPress(a)}).bind("mousedown.selectBox",function(b){1===b.which&&(a(b.target).is("A.selectBox-inline")&&b.preventDefault(),d.hasClass("selectBox-focus")||d.focus())}).insertAfter(c),!c[0].style.height){var i=c.attr("size")?parseInt(c.attr("size")):5,j=d.clone().removeAttr("id").css({position:"absolute",top:"-9999em"}).show().appendTo("body");j.find(".selectBox-options").html("<li><a> </a></li>");var k=parseInt(j.find(".selectBox-options A:first").html("&nbsp;").outerHeight());j.remove(),d.height(k*i)}this.disableSelection(d)}else{var l=a('<span class="selectBox-label" />'),m=a('<span class="selectBox-arrow" />');l.attr("class",this.getLabelClass()).text(this.getLabelText()),b=this.getOptions("dropdown"),b.appendTo("BODY"),d.data("selectBox-options",b).addClass("selectBox-dropdown").append(l).append(m).bind("mousedown.selectBox",function(a){1===a.which&&(d.hasClass("selectBox-menuShowing")?h.hideMenus():(a.stopPropagation(),b.data("selectBox-down-at-x",a.screenX).data("selectBox-down-at-y",a.screenY),h.showMenu()))}).bind("keydown.selectBox",function(a){h.handleKeyDown(a)}).bind("keypress.selectBox",function(a){h.handleKeyPress(a)}).bind("open.selectBox",function(a,b){b&&b._selectBox===!0||h.showMenu()}).bind("close.selectBox",function(a,b){b&&b._selectBox===!0||h.hideMenus()}).insertAfter(c);var n=d.width()-m.outerWidth()-(parseInt(l.css("paddingLeft"))||0)-(parseInt(l.css("paddingRight"))||0);l.width(n),this.disableSelection(d)}c.addClass("selectBox").data("selectBox-control",d).data("selectBox-settings",f).hide()},b.prototype.getOptions=function(b){var c,d=a(this.selectElement),e=this,f=function(b,c){return b.children("OPTION, OPTGROUP").each(function(){if(a(this).is("OPTION"))a(this).length>0?e.generateOptions(a(this),c):c.append("<li> </li>");else{var b=a('<li class="selectBox-optgroup" />');b.text(a(this).attr("label")),c.append(b),c=f(a(this),c)}}),c};switch(b){case"inline":return c=a('<ul class="selectBox-options" />'),c=f(d,c),c.find("A").bind("mouseover.selectBox",function(){e.addHover(a(this).parent())}).bind("mouseout.selectBox",function(){e.removeHover(a(this).parent())}).bind("mousedown.selectBox",function(a){1===a.which&&(a.preventDefault(),d.selectBox("control").hasClass("selectBox-active")||d.selectBox("control").focus())}).bind("mouseup.selectBox",function(b){1===b.which&&(e.hideMenus(),e.selectOption(a(this).parent(),b))}),this.disableSelection(c),c;case"dropdown":c=a('<ul class="selectBox-dropdown-menu selectBox-options" />'),c=f(d,c),c.data("selectBox-select",d).css("display","none").appendTo("BODY").find("A").bind("mousedown.selectBox",function(b){1===b.which&&(b.preventDefault(),b.screenX===c.data("selectBox-down-at-x")&&b.screenY===c.data("selectBox-down-at-y")&&(c.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),/android/i.test(navigator.userAgent.toLowerCase())&&/chrome/i.test(navigator.userAgent.toLowerCase())&&e.selectOption(a(this).parent()),e.hideMenus()))}).bind("mouseup.selectBox",function(b){1===b.which&&(b.screenX!==c.data("selectBox-down-at-x")||b.screenY!==c.data("selectBox-down-at-y"))&&(c.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),e.selectOption(a(this).parent()),e.hideMenus())}).bind("mouseover.selectBox",function(){e.addHover(a(this).parent())}).bind("mouseout.selectBox",function(){e.removeHover(a(this).parent())});var g=d.attr("class")||"";if(""!==g){g=g.split(" ");for(var h=0;h<g.length;h++)c.addClass(g[h]+"-selectBox-dropdown-menu")}return this.disableSelection(c),c}},b.prototype.getLabelClass=function(){var b=a(this.selectElement).find("OPTION:selected");return("selectBox-label "+(b.attr("class")||"")).replace(/\s+$/,"")},b.prototype.getLabelText=function(){var b=a(this.selectElement).find("OPTION:selected");return b.text()||" "},b.prototype.setLabel=function(){var b=a(this.selectElement),c=b.data("selectBox-control");c&&c.find(".selectBox-label").attr("class",this.getLabelClass()).text(this.getLabelText())},b.prototype.destroy=function(){var b=a(this.selectElement),c=b.data("selectBox-control");if(c){var d=c.data("selectBox-options");d.remove(),c.remove(),b.removeClass("selectBox").removeData("selectBox-control").data("selectBox-control",null).removeData("selectBox-settings").data("selectBox-settings",null).show()}},b.prototype.refresh=function(){var b,c=a(this.selectElement),d=c.data("selectBox-control"),e=d.hasClass("selectBox-dropdown")?"dropdown":"inline";switch(d.data("selectBox-options").remove(),b=this.getOptions(e),d.data("selectBox-options",b),e){case"inline":d.append(b);break;case"dropdown":this.setLabel(),a("BODY").append(b)}"dropdown"===e&&d.hasClass("selectBox-menuShowing")&&this.showMenu()},b.prototype.showMenu=function(){var b=this,c=a(this.selectElement),d=c.data("selectBox-control"),e=c.data("selectBox-settings"),f=d.data("selectBox-options");if(d.hasClass("selectBox-disabled"))return!1;this.hideMenus();var g=parseInt(d.css("borderBottomWidth"))||0,h=parseInt(d.css("borderTopWidth"))||0,i=d.offset(),j=e.topPositionCorrelation?e.topPositionCorrelation:0,k=e.bottomPositionCorrelation?e.bottomPositionCorrelation:0,l=f.outerHeight(),m=d.outerHeight(),n=parseInt(f.css("max-height")),o=a(window).scrollTop(),p=i.top-o,q=a(window).height()-(p+m),r=p>q&&(null==e.keepInViewport?!0:e.keepInViewport),s=r?i.top-l+h+j:i.top+m-g-k;if(n>p&&n>q)if(r){var t=n-(p-5);f.css({"max-height":n-t+"px"}),s+=t}else{var t=n-(q-5);f.css({"max-height":n-t+"px"})}if(f.data("posTop",r),f.width(d.innerWidth()).css({top:s,left:d.offset().left}).addClass("selectBox-options selectBox-options-"+(r?"top":"bottom")),c.triggerHandler("beforeopen"))return!1;var u=function(){c.triggerHandler("open",{_selectBox:!0})};switch(e.menuTransition){case"fade":f.fadeIn(e.menuSpeed,u);break;case"slide":f.slideDown(e.menuSpeed,u);break;default:f.show(e.menuSpeed,u)}e.menuSpeed||u();var v=f.find(".selectBox-selected:first");this.keepOptionInView(v,!0),this.addHover(v),d.addClass("selectBox-menuShowing selectBox-menuShowing-"+(r?"top":"bottom")),a(document).bind("mousedown.selectBox",function(c){if(1===c.which){if(a(c.target).parents().andSelf().hasClass("selectBox-options"))return;b.hideMenus()}})},b.prototype.hideMenus=function(){0!==a(".selectBox-dropdown-menu:visible").length&&(a(document).unbind("mousedown.selectBox"),a(".selectBox-dropdown-menu").each(function(){var b=a(this),c=b.data("selectBox-select"),d=c.data("selectBox-control"),e=c.data("selectBox-settings"),f=b.data("posTop");if(c.triggerHandler("beforeclose"))return!1;var g=function(){c.triggerHandler("close",{_selectBox:!0})};if(e){switch(e.menuTransition){case"fade":b.fadeOut(e.menuSpeed,g);break;case"slide":b.slideUp(e.menuSpeed,g);break;default:b.hide(e.menuSpeed,g)}e.menuSpeed||g(),d.removeClass("selectBox-menuShowing selectBox-menuShowing-"+(f?"top":"bottom"))}else a(this).hide(),a(this).triggerHandler("close",{_selectBox:!0}),a(this).removeClass("selectBox-menuShowing selectBox-menuShowing-"+(f?"top":"bottom"));b.css("max-height",""),b.removeClass("selectBox-options-"+(f?"top":"bottom")),b.data("posTop",!1)}))},b.prototype.selectOption=function(b,c){var d=a(this.selectElement);b=a(b);{var e=d.data("selectBox-control");d.data("selectBox-settings")}if(e.hasClass("selectBox-disabled"))return!1;if(0===b.length||b.hasClass("selectBox-disabled"))return!1;if(d.attr("multiple"))if(c.shiftKey&&e.data("selectBox-last-selected")){b.toggleClass("selectBox-selected");var f;f=b.index()>e.data("selectBox-last-selected").index()?b.siblings().slice(e.data("selectBox-last-selected").index(),b.index()):b.siblings().slice(b.index(),e.data("selectBox-last-selected").index()),f=f.not(".selectBox-optgroup, .selectBox-disabled"),b.hasClass("selectBox-selected")?f.addClass("selectBox-selected"):f.removeClass("selectBox-selected")}else this.isMac&&c.metaKey||!this.isMac&&c.ctrlKey?b.toggleClass("selectBox-selected"):(b.siblings().removeClass("selectBox-selected"),b.addClass("selectBox-selected"));else b.siblings().removeClass("selectBox-selected"),b.addClass("selectBox-selected");e.hasClass("selectBox-dropdown")&&e.find(".selectBox-label").text(b.text());var g=0,h=[];return d.attr("multiple")?e.find(".selectBox-selected A").each(function(){h[g++]=a(this).attr("rel")}):h=b.find("A").attr("rel"),e.data("selectBox-last-selected",b),d.val()!==h&&(d.val(h),this.setLabel(),d.trigger("change")),!0},b.prototype.addHover=function(b){b=a(b);var c=a(this.selectElement),d=c.data("selectBox-control"),e=d.data("selectBox-options");e.find(".selectBox-hover").removeClass("selectBox-hover"),b.addClass("selectBox-hover")},b.prototype.getSelectElement=function(){return this.selectElement},b.prototype.removeHover=function(b){b=a(b);var c=a(this.selectElement),d=c.data("selectBox-control"),e=d.data("selectBox-options");e.find(".selectBox-hover").removeClass("selectBox-hover")},b.prototype.keepOptionInView=function(b,c){if(b&&0!==b.length){var d=a(this.selectElement),e=d.data("selectBox-control"),f=e.data("selectBox-options"),g=e.hasClass("selectBox-dropdown")?f:f.parent(),h=parseInt(b.offset().top-g.position().top),i=parseInt(h+b.outerHeight());c?g.scrollTop(b.offset().top-g.offset().top+g.scrollTop()-g.height()/2):(0>h&&g.scrollTop(b.offset().top-g.offset().top+g.scrollTop()),i>g.height()&&g.scrollTop(b.offset().top+b.outerHeight()-g.offset().top+g.scrollTop()-g.height()))}},b.prototype.handleKeyDown=function(b){var c=a(this.selectElement),d=c.data("selectBox-control"),e=d.data("selectBox-options"),f=c.data("selectBox-settings"),g=0,h=0;if(!d.hasClass("selectBox-disabled"))switch(b.keyCode){case 8:b.preventDefault(),this.typeSearch="";break;case 9:case 27:this.hideMenus(),this.removeHover();break;case 13:d.hasClass("selectBox-menuShowing")?(this.selectOption(e.find("LI.selectBox-hover:first"),b),d.hasClass("selectBox-dropdown")&&this.hideMenus()):this.showMenu();break;case 38:case 37:if(b.preventDefault(),d.hasClass("selectBox-menuShowing")){var i=e.find(".selectBox-hover").prev("LI");for(g=e.find("LI:not(.selectBox-optgroup)").length,h=0;(0===i.length||i.hasClass("selectBox-disabled")||i.hasClass("selectBox-optgroup"))&&(i=i.prev("LI"),0===i.length&&(i=e.find(f.loopOptions?"LI:last":"LI:first")),!(++h>=g)););this.addHover(i),this.selectOption(i,b),this.keepOptionInView(i)}else this.showMenu();break;case 40:case 39:if(b.preventDefault(),d.hasClass("selectBox-menuShowing")){var j=e.find(".selectBox-hover").next("LI");for(g=e.find("LI:not(.selectBox-optgroup)").length,h=0;(0===j.length||j.hasClass("selectBox-disabled")||j.hasClass("selectBox-optgroup"))&&(j=j.next("LI"),0===j.length&&(j=e.find(f.loopOptions?"LI:first":"LI:last")),!(++h>=g)););this.addHover(j),this.selectOption(j,b),this.keepOptionInView(j)}else this.showMenu()}},b.prototype.handleKeyPress=function(b){var c=a(this.selectElement),d=c.data("selectBox-control"),e=d.data("selectBox-options"),f=this;if(!d.hasClass("selectBox-disabled"))switch(b.keyCode){case 9:case 27:case 13:case 38:case 37:case 40:case 39:break;default:d.hasClass("selectBox-menuShowing")||this.showMenu(),b.preventDefault(),clearTimeout(this.typeTimer),this.typeSearch+=String.fromCharCode(b.charCode||b.keyCode),e.find("A").each(function(){return a(this).text().substr(0,f.typeSearch.length).toLowerCase()===f.typeSearch.toLowerCase()?(f.addHover(a(this).parent()),f.selectOption(a(this).parent(),b),f.keepOptionInView(a(this).parent()),!1):void 0}),this.typeTimer=setTimeout(function(){f.typeSearch=""},1e3)}},b.prototype.enable=function(){var b=a(this.selectElement);b.prop("disabled",!1);var c=b.data("selectBox-control");c&&c.removeClass("selectBox-disabled")},b.prototype.disable=function(){var b=a(this.selectElement);b.prop("disabled",!0);var c=b.data("selectBox-control");c&&c.addClass("selectBox-disabled")},b.prototype.setValue=function(b){var c=a(this.selectElement);c.val(b),b=c.val(),null===b&&(b=c.children().first().val(),c.val(b));var d=c.data("selectBox-control");if(d){var e=c.data("selectBox-settings"),f=d.data("selectBox-options");this.setLabel(),f.find(".selectBox-selected").removeClass("selectBox-selected"),f.find("A").each(function(){if("object"==typeof b)for(var c=0;c<b.length;c++)a(this).attr("rel")==b[c]&&a(this).parent().addClass("selectBox-selected");else a(this).attr("rel")==b&&a(this).parent().addClass("selectBox-selected")}),e.change&&e.change.call(c)}},b.prototype.setOptions=function(b){var c=a(this.selectElement),d=c.data("selectBox-control");switch(typeof b){case"string":c.html(b);break;case"object":c.html("");for(var e in b)if(null!==b[e])if("object"==typeof b[e]){var f=a('<optgroup label="'+e+'" />');for(var g in b[e])f.append('<option value="'+g+'">'+b[e][g]+"</option>");c.append(f)}else{var h=a('<option value="'+e+'">'+b[e]+"</option>");c.append(h)}}d&&this.refresh()},b.prototype.disableSelection=function(b){a(b).css("MozUserSelect","none").bind("selectstart",function(a){a.preventDefault()})},b.prototype.generateOptions=function(b,c){var d=a("<li />"),e=a("<a />");
d.addClass(b.attr("class")),d.data(b.data()),e.attr("rel",b.val()).text(b.text()),d.append(e),b.attr("disabled")&&d.addClass("selectBox-disabled"),b.attr("selected")&&d.addClass("selectBox-selected"),c.append(d)},a.extend(a.fn,{selectBox:function(c,d){var e;switch(c){case"control":return a(this).data("selectBox-control");case"settings":if(!d)return a(this).data("selectBox-settings");a(this).each(function(){a(this).data("selectBox-settings",a.extend(!0,a(this).data("selectBox-settings"),d))});break;case"options":if(void 0===d)return a(this).data("selectBox-control").data("selectBox-options");a(this).each(function(){(e=a(this).data("selectBox"))&&e.setOptions(d)});break;case"value":if(void 0===d)return a(this).val();a(this).each(function(){(e=a(this).data("selectBox"))&&e.setValue(d)});break;case"refresh":a(this).each(function(){(e=a(this).data("selectBox"))&&e.refresh()});break;case"enable":a(this).each(function(){(e=a(this).data("selectBox"))&&e.enable(this)});break;case"disable":a(this).each(function(){(e=a(this).data("selectBox"))&&e.disable()});break;case"destroy":a(this).each(function(){(e=a(this).data("selectBox"))&&(e.destroy(),a(this).data("selectBox",null))});break;case"instance":return a(this).data("selectBox");default:a(this).each(function(d,e){a(e).data("selectBox")||a(e).data("selectBox",new b(e,c))})}return a(this)}})}(jQuery),function(a){"use strict";a.fn.succinct=function(b){var c={size:240,omission:"...",ignore:!0},b=a.extend(c,b);return this.each(function(){var c,d,e=a(this),f=/[!-\/:-@\[-`{-~]$/,g=function(){e.each(function(){c=a(this).text(),c.length>b.size&&(d=a.trim(c).substring(0,b.size).split(" ").slice(0,-1).join(" "),b.ignore&&(d=d.replace(f,"")),a(this).text(d+b.omission))})},h=function(){g()};h()})}}(jQuery),function(a){a("a[data-reveal-id]").click(function(b){b.preventDefault();var c=a(this).attr("data-reveal-id");a("#"+c).reveal(a(this).data())}),a.fn.reveal=function(b){var c={animation:"fadeAndPop",animationspeed:300,closeonbackgroundclick:!0,dismissmodalclass:"close-reveal-modal"},b=a.extend({},c,b);return this.each(function(){function c(){h=!1}function d(){h=!0}var e=a(this),f=parseInt(e.css("top")),g=e.height()+f,h=!1,i=a(".reveal-modal-bg");0==i.length&&(i=a('<div class="reveal-modal-bg" />').insertAfter(e)),e.bind("reveal:open",function(){i.unbind("click.modalEvent"),a("."+b.dismissmodalclass).unbind("click.modalEvent"),h||(d(),"fadeAndPop"==b.animation&&(e.css({top:a(document).scrollTop()-g,opacity:0,visibility:"visible"}),i.fadeIn(b.animationspeed/2),e.delay(b.animationspeed/2).animate({top:a(document).scrollTop()+f+"px",opacity:1},b.animationspeed,c())),"fade"==b.animation&&(e.css({opacity:0,visibility:"visible",top:a(document).scrollTop()+f}),i.fadeIn(b.animationspeed/2),e.delay(b.animationspeed/2).animate({opacity:1},b.animationspeed,c())),"none"==b.animation&&(e.css({visibility:"visible",top:a(document).scrollTop()+f}),i.css({display:"block"}),c())),e.unbind("reveal:open")}),e.bind("reveal:close",function(){h||(d(),"fadeAndPop"==b.animation&&(i.delay(b.animationspeed).fadeOut(b.animationspeed),e.animate({top:a(document).scrollTop()-g+"px",opacity:0},b.animationspeed/2,function(){e.css({top:f,opacity:1,visibility:"hidden"}),c()})),"fade"==b.animation&&(i.delay(b.animationspeed).fadeOut(b.animationspeed),e.animate({opacity:0},b.animationspeed,function(){e.css({opacity:1,visibility:"hidden",top:f}),c()})),"none"==b.animation&&(e.css({visibility:"hidden",top:f}),i.css({display:"none"}))),e.unbind("reveal:close")}),e.trigger("reveal:open");a("."+b.dismissmodalclass).bind("click.modalEvent",function(){e.trigger("reveal:close")});b.closeonbackgroundclick&&(i.css({cursor:"pointer"}),i.bind("click.modalEvent",function(){e.trigger("reveal:close")})),a("body").keyup(function(a){27===a.which&&e.trigger("reveal:close")})})}}(jQuery),function(a){"use strict";a.fn.bjqs=function(b){var c={width:700,height:300,animtype:"fade",animduration:450,animspeed:4e3,automatic:!0,showcontrols:!0,centercontrols:!0,nexttext:"Next",prevtext:"Prev",showmarkers:!0,centermarkers:!0,keyboardnav:!0,hoverpause:!0,usecaptions:!0,randomstart:!1,responsive:!1},d=a.extend({},c,b),e=this,f=e.find("ul.bjqs"),g=f.children("li"),h=null,i=null,j=null,k=null,l=null,m=null,n=null,o=null,p={slidecount:g.length,animating:!1,paused:!1,currentslide:1,nextslide:0,currentindex:0,nextindex:0,interval:null},q={width:null,height:null,ratio:null},r={fwd:"forward",prev:"previous"},s=function(){g.addClass("bjqs-slide"),d.responsive?t():v(),p.slidecount>1?(d.randomstart&&C(),d.showcontrols&&x(),d.showmarkers&&y(),d.keyboardnav&&z(),d.hoverpause&&d.automatic&&A(),"slide"===d.animtype&&w()):d.automatic=!1,d.usecaptions&&B(),"slide"!==d.animtype||d.randomstart||(p.currentindex=1,p.currentslide=2),f.show(),g.eq(p.currentindex).show(),d.automatic&&(p.interval=setInterval(function(){E(r.fwd,!1)},d.animspeed))},t=function(){q.width=e.outerWidth(),q.ratio=q.width/d.width,q.height=d.height*q.ratio,"fade"===d.animtype&&(g.css({height:d.height,width:"100%"}),g.children("img").css({height:d.height,width:"100%"}),f.css({height:d.height,width:"100%"}),e.css({height:d.height,"max-width":d.width,position:"relative"}),q.width<d.width&&(g.css({height:q.height}),g.children("img").css({height:q.height}),f.css({height:q.height}),e.css({height:q.height})),a(window).resize(function(){q.width=e.outerWidth(),q.ratio=q.width/d.width,q.height=d.height*q.ratio,g.css({height:q.height}),g.children("img").css({height:q.height}),f.css({height:q.height}),e.css({height:q.height})})),"slide"===d.animtype&&(g.css({height:d.height,width:d.width}),g.children("img").css({height:d.height,width:d.width}),f.css({height:d.height,width:d.width*d.slidecount}),e.css({height:d.height,"max-width":d.width,position:"relative"}),q.width<d.width&&(g.css({height:q.height}),g.children("img").css({height:q.height}),f.css({height:q.height}),e.css({height:q.height})),a(window).resize(function(){q.width=e.outerWidth(),q.ratio=q.width/d.width,q.height=d.height*q.ratio,g.css({height:q.height,width:q.width}),g.children("img").css({height:q.height,width:q.width}),f.css({height:q.height,width:q.width*d.slidecount}),e.css({height:q.height}),m.css({height:q.height,width:q.width}),u(function(){E(!1,p.currentslide)},200,"some unique string")}))},u=function(){var a={};return function(b,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}(),v=function(){g.css({height:d.height,width:d.width}),f.css({height:d.height,width:d.width}),e.css({height:d.height,width:d.width,position:"relative"})},w=function(){n=g.eq(0).clone(),o=g.eq(p.slidecount-1).clone(),n.attr({"data-clone":"last","data-slide":0}).appendTo(f).show(),o.attr({"data-clone":"first","data-slide":0}).prependTo(f).show(),g=f.children("li"),p.slidecount=g.length,m=a('<div class="bjqs-wrapper"></div>'),d.responsive&&q.width<d.width?(m.css({width:q.width,height:q.height,overflow:"hidden",position:"relative"}),f.css({width:q.width*(p.slidecount+2),left:-q.width*p.currentslide})):(m.css({width:d.width,height:d.height,overflow:"hidden",position:"relative"}),f.css({width:d.width*(p.slidecount+2),left:-d.width*p.currentslide})),g.css({"float":"left",position:"relative",display:"list-item"}),m.prependTo(e),f.appendTo(m)},x=function(){if(h=a('<ul class="bjqs-controls"></ul>'),i=a('<li class="bjqs-next"><a href="#" data-direction="'+r.fwd+'">'+d.nexttext+"</a></li>"),j=a('<li class="bjqs-prev"><a href="#" data-direction="'+r.prev+'">'+d.prevtext+"</a></li>"),h.on("click","a",function(b){b.preventDefault();var c=a(this).attr("data-direction");p.animating||(c===r.fwd&&E(r.fwd,!1),c===r.prev&&E(r.prev,!1))}),j.appendTo(h),i.appendTo(h),h.appendTo(e),d.centercontrols){h.addClass("v-centered");var b=(e.height()-i.children("a").outerHeight())/2,c=b/d.height*100,f=c+"%";i.find("a").css("top",f),j.find("a").css("top",f)}},y=function(){if(k=a('<ol class="bjqs-markers"></ol>'),a.each(g,function(b){var c=b+1,e=b+1;"slide"===d.animtype&&(e=b+2);var f=a('<li><a href="#">'+c+"</a></li>");c===p.currentslide&&f.addClass("active-marker"),f.on("click","a",function(a){a.preventDefault(),p.animating||p.currentslide===e||E(!1,e)}),f.appendTo(k)}),k.appendTo(e),l=k.find("li"),d.centermarkers){k.addClass("h-centered");var b=(d.width-k.width())/2;k.css("left",b)}},z=function(){a(document).keyup(function(a){p.paused||(clearInterval(p.interval),p.paused=!0),p.animating||(39===a.keyCode?(a.preventDefault(),E(r.fwd,!1)):37===a.keyCode&&(a.preventDefault(),E(r.prev,!1))),p.paused&&d.automatic&&(p.interval=setInterval(function(){E(r.fwd)},d.animspeed),p.paused=!1)})},A=function(){e.hover(function(){p.paused||(clearInterval(p.interval),p.paused=!0)},function(){p.paused&&(p.interval=setInterval(function(){E(r.fwd,!1)},d.animspeed),p.paused=!1)})},B=function(){a.each(g,function(b,c){var d=a(c).children("img:first-child").attr("title");d||(d=a(c).children("a").find("img:first-child").attr("title")),d&&(d=a('<p class="bjqs-caption">'+d+"</p>"),d.appendTo(a(c)))})},C=function(){var a=Math.floor(Math.random()*p.slidecount)+1;p.currentslide=a,p.currentindex=a-1},D=function(a){a===r.fwd?g.eq(p.currentindex).next().length?(p.nextindex=p.currentindex+1,p.nextslide=p.currentslide+1):(p.nextindex=0,p.nextslide=1):g.eq(p.currentindex).prev().length?(p.nextindex=p.currentindex-1,p.nextslide=p.currentslide-1):(p.nextindex=p.slidecount-1,p.nextslide=p.slidecount)},E=function(a,b){if(!p.animating&&(p.animating=!0,b?(p.nextslide=b,p.nextindex=b-1):D(a),"fade"===d.animtype&&(d.showmarkers&&(l.removeClass("active-marker"),l.eq(p.nextindex).addClass("active-marker")),g.eq(p.currentindex).fadeOut(d.animduration),g.eq(p.nextindex).fadeIn(d.animduration,function(){p.animating=!1,p.currentslide=p.nextslide,p.currentindex=p.nextindex})),"slide"===d.animtype)){if(d.showmarkers){var c=p.nextindex-1;c===p.slidecount-2?c=0:-1===c&&(c=p.slidecount-3),l.removeClass("active-marker"),l.eq(c).addClass("active-marker")}p.slidewidth=d.responsive&&q.width<d.width?q.width:d.width,f.animate({left:-p.nextindex*p.slidewidth},d.animduration,function(){p.currentslide=p.nextslide,p.currentindex=p.nextindex,"last"===g.eq(p.currentindex).attr("data-clone")?(f.css({left:-p.slidewidth}),p.currentslide=2,p.currentindex=1):"first"===g.eq(p.currentindex).attr("data-clone")&&(f.css({left:-p.slidewidth*(p.slidecount-2)}),p.currentslide=p.slidecount-1,p.currentindex=p.slidecount-2),p.animating=!1})}};s()}}(jQuery);